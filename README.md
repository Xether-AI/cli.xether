# Xether AI CLI

The official Command-Line Interface for the Xether AI platform. It allows developers and data engineers to manage datasets, orchestrate pipelines, and retrieve artifacts directly from their terminal.

## Installation

### Prerequisites

- Python 3.9 or higher
- [Poetry](https://python-poetry.org/docs/) (Recommended)

### Local Setup

1. Navigate to the CLI directory:

```bash
cd "Xether AI/CLI"
```

2. Install dependencies using Poetry:

```bash
poetry install
```

3. (Optional) Enter the poetry shell to use `xether` directly:

```bash
poetry shell
```

_Alternatively, you can run commands using `poetry run xether ...`_

## Configuration & Authentication

Before using the CLI, you must log in:

```bash
xether auth login
```

This prompts for your Xether AI email and password. A session token is saved locally to `~/.xether/config.json`.

To set your backend endpoint (useful for local development vs production):

```bash
xether config set --backend-url http://localhost:8000
xether config view
```

To log out and clear your session:

```bash
xether auth logout
```

## Core Commands

### Datasets

Manage your raw data and files in the Xether Dataset Registry.

- **List datasets:**
  ```bash
  xether dataset ls
  ```
- **View dataset details:**
  ```bash
  xether dataset info <DATASET_ID>
  ```
- **Upload a new dataset:**
  ```bash
  xether dataset push /path/to/my_data.csv --name my-cleaned-data
  ```
- **Delete a dataset:**
  ```bash
  xether dataset rm <DATASET_ID>
  ```

### Pipelines

Trigger data transformations and monitor their execution.

- **List available pipelines:**
  ```bash
  xether pipeline ls
  ```
- **Run a pipeline against a specific dataset:**
  ```bash
  xether pipeline run <PIPELINE_ID> --dataset <DATASET_ID>
  ```
  _(Returns an Execution ID)_
- **Check the real-time status of an execution:**
  ```bash
  xether pipeline status <EXECUTION_ID>
  ```
- **View execution history for a pipeline:**
  ```bash
  xether pipeline history <PIPELINE_ID>
  ```

### Artifacts

Retrieve the final outputs (models, cleaned datasets, reports) generated by your pipelines.

- **List available artifacts:**
  ```bash
  xether artifact ls
  ```
  _(Optionally filter by execution ID: `xether artifact ls -e <EXECUTION_ID>`)_
- **Download an artifact:**
  ```bash
  xether artifact download <ARTIFACT_ID> /local/destination/path
  ```

## Development

The CLI is built with [Typer](https://typer.tiangolo.com/), [Rich](https://rich.readthedocs.io/), and [HTTPX](https://www.python-httpx.org/).

**Running Tests**

```bash
poetry run pytest tests/
```
